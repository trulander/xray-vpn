# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é Xray VPN Server

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
2. [–ü–æ–¥—Ä–æ–±–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞](#–ø–æ–¥—Ä–æ–±–Ω–∞—è-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
3. [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏](#—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏)
4. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–∫–ª–∏–µ–Ω—Ç–æ–≤)
5. [–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞](#–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥-–∏-–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞)
6. [–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
7. [–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫](#—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ-–Ω–µ–ø–æ–ª–∞–¥–æ–∫)

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**
```bash
git clone <repository-url>
cd xray-vpn
python src/main.py init --domain your-domain.com --server-ip YOUR_SERVER_IP
```

2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–∞**
```bash
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª
nano .env

# –£–∫–∞–∂–∏—Ç–µ –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ:
DOMAIN=your-domain.com
SERVER_IP=YOUR_SERVER_IP
EMAIL=your-email@example.com
```

3. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π**
```bash
python src/main.py generate
```

4. **–ü–æ–ª—É—á–µ–Ω–∏–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞**
```bash
docker-compose --profile tools run --rm certbot certonly --webroot -w /var/www/html -d your-domain.com
```

5. **–ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞**
```bash
docker-compose up -d
```

6. **–°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**
```bash
python src/main.py generate-client vless ws -u
```

## üîß –ü–æ–¥—Ä–æ–±–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–§–∞–π–ª `.env` —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

```bash
# –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
DOMAIN=your-domain.com          # –í–∞—à –¥–æ–º–µ–Ω
SERVER_IP=YOUR_SERVER_IP        # IP –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞
EMAIL=your-email@example.com    # Email –¥–ª—è SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

# UUID –¥–ª—è –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ (–≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
VMESS_UUID=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
VLESS_UUID=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx

# –ü–∞—Ä–æ–ª—å –¥–ª—è Trojan (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
TROJAN_PASSWORD=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# –ü—É—Ç–∏ –¥–ª—è WebSocket (–≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
VMESS_WS_PATH=/api/v1/vmess
VLESS_WS_PATH=/ws/vless
TROJAN_WS_PATH=/tunnel/trojan

# –ü—É—Ç–∏ –¥–ª—è gRPC (–≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
VMESS_GRPC_PATH=/vmess/grpc
VLESS_GRPC_PATH=/vless/grpc
TROJAN_GRPC_PATH=/trojan/grpc

# –°–µ—Ä–≤–∏—Å—ã –¥–ª—è gRPC (–≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
VMESS_GRPC_SERVICE=VmessService
VLESS_GRPC_SERVICE=VlessService
TROJAN_GRPC_SERVICE=TrojanService

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
LOG_LEVEL=warning               # debug, info, warning, error
ENABLE_STATS=false             # –í–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

# Docker –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
UID=1000
GID=1000
```

### –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –ø—É—Ç–µ–π –∏ —Å–µ—Ä–≤–∏—Å–æ–≤

–í—ã –º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø—É—Ç–∏ –∏ –∏–º–µ–Ω–∞ —Å–µ—Ä–≤–∏—Å–æ–≤ –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:

```bash
# –ü—Ä–∏–º–µ—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –ø—É—Ç–µ–π
VMESS_WS_PATH=/api/v2/stream
VLESS_WS_PATH=/websocket/data
TROJAN_WS_PATH=/live/updates

# –ü—Ä–∏–º–µ—Ä—ã –∏–º–µ–Ω gRPC —Å–µ—Ä–≤–∏—Å–æ–≤
VMESS_GRPC_SERVICE=DataStreamService
VLESS_GRPC_SERVICE=ApiGatewayService
TROJAN_GRPC_SERVICE=NotificationService
```

## üìù –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
python src/main.py generate

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
python src/main.py generate-client vless ws
python src/main.py generate-client vmess grpc
python src/main.py generate-client trojan ws

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å URL –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
python src/main.py generate-client vless ws -u
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

–ü–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:

```
config/
‚îú‚îÄ‚îÄ xray/
‚îÇ   ‚îî‚îÄ‚îÄ config.json           # –°–µ—Ä–≤–µ—Ä–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Xray
‚îú‚îÄ‚îÄ nginx/
‚îÇ   ‚îú‚îÄ‚îÄ nginx.conf           # –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nginx
‚îÇ   ‚îî‚îÄ‚îÄ demo-site.conf       # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–µ–º–æ —Å–∞–π—Ç–∞
‚îî‚îÄ‚îÄ client/
    ‚îú‚îÄ‚îÄ vless_ws.json        # VLESS WebSocket –∫–ª–∏–µ–Ω—Ç
    ‚îú‚îÄ‚îÄ vless_grpc.json      # VLESS gRPC –∫–ª–∏–µ–Ω—Ç
    ‚îú‚îÄ‚îÄ vmess_ws.json        # VMess WebSocket –∫–ª–∏–µ–Ω—Ç
    ‚îú‚îÄ‚îÄ vmess_grpc.json      # VMess gRPC –∫–ª–∏–µ–Ω—Ç
    ‚îú‚îÄ‚îÄ trojan_ws.json       # Trojan WebSocket –∫–ª–∏–µ–Ω—Ç
    ‚îú‚îÄ‚îÄ trojan_grpc.json     # Trojan gRPC –∫–ª–∏–µ–Ω—Ç
    ‚îî‚îÄ‚îÄ *_url.txt            # URL –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
```

## üì± –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

| –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ | –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ | –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã |
|-----------|------------|---------------------------|
| **Android** | v2rayNG | VMess, VLESS, Trojan |
| | SagerNet | VMess, VLESS, Trojan |
| **iOS** | Shadowrocket | VMess, VLESS, Trojan |
| | Quantumult X | VMess, VLESS |
| **Windows** | v2rayN | VMess, VLESS, Trojan |
| | Qv2ray | VMess, VLESS |
| **macOS** | V2RayXS | VMess, VLESS, Trojan |
| | Qv2ray | VMess, VLESS |
| **Linux** | v2ray | VMess, VLESS, Trojan |
| | Qv2ray | VMess, VLESS |

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ JSON –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

1. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é**
```bash
cat config/client/vless_ws.json
```

2. **–ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –≤ –∫–ª–∏–µ–Ω—Ç**
   - v2rayN: Servers ‚Üí Add server ‚Üí Import from clipboard
   - Qv2ray: Import ‚Üí Import from file
   - v2rayNG: + ‚Üí Import config from clipboard

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ URL

1. **–ü–æ–ª—É—á–∏—Ç–µ URL**
```bash
python src/main.py generate-client vless ws -u
cat config/client/vless_ws_url.txt
```

2. **–ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ URL**
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ URL –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
   - –í –º–æ–±–∏–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏: + ‚Üí Import from clipboard
   - –ò–ª–∏ –æ—Ç—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ QR –∫–æ–¥ (–µ—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è)

### –†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

–ï—Å–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –≤—Ä—É—á–Ω—É—é:

**VLESS WebSocket:**
- –ê–¥—Ä–µ—Å: –≤–∞—à-–¥–æ–º–µ–Ω.com
- –ü–æ—Ä—Ç: 443
- UUID: –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π VLESS_UUID
- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ: none
- –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç: WebSocket
- –ü—É—Ç—å: –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π VLESS_WS_PATH
- Host: –≤–∞—à-–¥–æ–º–µ–Ω.com
- TLS: –≤–∫–ª—é—á–µ–Ω
- SNI: –≤–∞—à-–¥–æ–º–µ–Ω.com

**VMess gRPC:**
- –ê–¥—Ä–µ—Å: –≤–∞—à-–¥–æ–º–µ–Ω.com
- –ü–æ—Ä—Ç: 443
- UUID: –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π VMESS_UUID
- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ: auto
- –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç: gRPC
- –°–µ—Ä–≤–∏—Å: –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π VMESS_GRPC_SERVICE
- TLS: –≤–∫–ª—é—á–µ–Ω
- SNI: –≤–∞—à-–¥–æ–º–µ–Ω.com

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

```bash
# –û–±—â–∏–π —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞
python src/main.py status

# –°—Ç–∞—Ç—É—Å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
python src/main.py ssl-status

# –°—Ç–∞—Ç—É—Å Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose ps

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
docker stats
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
# –í—Å–µ –ª–æ–≥–∏
docker-compose logs -f

# –õ–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
docker-compose logs -f nginx
docker-compose logs -f xray-server
docker-compose logs -f demo-website

# –õ–æ–≥–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å
docker-compose logs --since 1h

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å—Ç—Ä–æ–∫
docker-compose logs --tail 100
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞
curl -I https://–≤–∞—à-–¥–æ–º–µ–Ω.com

# –ü—Ä–æ–≤–µ—Ä–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
openssl s_client -connect –≤–∞—à-–¥–æ–º–µ–Ω.com:443 -servername –≤–∞—à-–¥–æ–º–µ–Ω.com

# –ü—Ä–æ–≤–µ—Ä–∫–∞ DNS
nslookup –≤–∞—à-–¥–æ–º–µ–Ω.com
dig –≤–∞—à-–¥–æ–º–µ–Ω.com
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–ª—å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏**
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ñ–∞–π—Ä–≤–æ–ª**
3. **–†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ —Å–∏—Å—Ç–µ–º—É**
4. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ª–æ–≥–∏**
5. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ SSH –∫–ª—é—á–∏**

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∞–π—Ä–≤–æ–ª–∞ (UFW)

```bash
# –°–±—Ä–æ—Å –ø—Ä–∞–≤–∏–ª
sudo ufw --force reset

# –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ SSH
sudo ufw allow 22

# –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ HTTP/HTTPS
sudo ufw allow 80
sudo ufw allow 443

# –í–∫–ª—é—á–µ–Ω–∏–µ —Ñ–∞–π—Ä–≤–æ–ª–∞
sudo ufw enable

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
sudo ufw status
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è SSH –∫–ª—é—á–∞ (–Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ)
ssh-keygen -t ed25519 -C "your-email@example.com"

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª—é—á–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
ssh-copy-id user@your-server-ip

# –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—å–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
sudo nano /etc/ssh/sshd_config
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ: PasswordAuthentication no
sudo systemctl restart ssh
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

```bash
# Ubuntu/Debian
sudo apt update && sudo apt upgrade -y

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Docker –æ–±—Ä–∞–∑–æ–≤
docker-compose pull
docker-compose up -d
```

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º—ã —Å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏

**–°–∏–º–ø—Ç–æ–º—ã:**
- –û—à–∏–±–∫–∞ "SSL certificate problem"
- –ë—Ä–∞—É–∑–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "Not secure"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
python src/main.py ssl-status

# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
docker-compose --profile tools run --rm certbot certonly --webroot -w /var/www/html -d –≤–∞—à-–¥–æ–º–µ–Ω.com --force-renewal

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Nginx
docker-compose restart nginx
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫–ª–∏–µ–Ω—Ç–æ–≤

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ö–ª–∏–µ–Ω—Ç –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è
- –¢–∞–π–º–∞—É—Ç—ã —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞
telnet –≤–∞—à-–¥–æ–º–µ–Ω.com 443

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ Xray
docker-compose logs xray-server

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Nginx
docker-compose exec nginx nginx -t
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–æ–º–µ–Ω —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –≤–∞—à —Å–µ—Ä–≤–µ—Ä
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç–∫—Ä—ã—Ç–æ—Å—Ç—å –ø–æ—Ä—Ç–æ–≤ 80 –∏ 443
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π –ø—Ä–æ—Ç–æ–∫–æ–ª/—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- –í—ã—Å–æ–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ CPU

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–∏—Å—Ç–µ–º—ã
htop
iostat 1

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–µ–≤–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
iftop
ss -tuln
```

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:**
1. –£–≤–µ–ª–∏—á—å—Ç–µ —Ä–µ—Å—É—Ä—Å—ã —Å–µ—Ä–≤–µ—Ä–∞
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ gRPC –≤–º–µ—Å—Ç–æ WebSocket
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ª–∏–º–∏—Ç—ã –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Xray
4. –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Nginx

### –ü—Ä–æ–±–ª–µ–º—ã —Å Docker

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è
- –û—à–∏–±–∫–∏ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –û—á–∏—Å—Ç–∫–∞ Docker
docker system prune -a

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose down
docker-compose build --no-cache
docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
docker-compose logs
```

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Å–±–æ—è

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose down

# –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
cp -r config config.backup
cp .env .env.backup

# –†–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
python src/main.py generate

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose up -d
```

## üìû –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–º–æ—â–∏

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–∞–µ—Ç—Å—è:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:** `docker-compose logs`
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å:** `python src/main.py status`
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:** [Xray Documentation](https://xtls.github.io/)
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ç–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:** DNS, —Ñ–∞–π—Ä–≤–æ–ª, –ø–æ—Ä—Ç—ã

## üîÑ –†–µ–≥—É–ª—è—Ä–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ

### –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –Ω–∞ –æ—à–∏–±–∫–∏
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

### –ï–∂–µ–º–µ—Å—è—á–Ω–æ
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –∏ Docker –æ–±—Ä–∞–∑–æ–≤
- –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –ü–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- –†–æ—Ç–∞—Ü–∏—è –∫–ª—é—á–µ–π –∏ –ø–∞—Ä–æ–ª–µ–π
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø—É—Ç–µ–π –∏ —Å–µ—Ä–≤–∏—Å–æ–≤
- –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ 